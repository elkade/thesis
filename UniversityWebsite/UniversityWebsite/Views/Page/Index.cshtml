@model UniversityWebsite.Model.Page.PageViewModel
@{Layout = "~/Views/Shared/_Layout.cshtml";}
@{
    var teachingString = GetPhrase("teaching");
    var homeString = GetPhrase("home");
    ViewBag.Title = Model.Title;
}
<style>
    .top-bar, .top-bar-section li:not(.has-form) a:not(.button) {
        background: #003C58;
    }
</style>

<nav class="top-bar" data-topbar role="navigation">
    <section class="top-bar-section">
        <ul class="left">
            @if (Model.ParentName == null)
            {
                <li>
                    @Html.ActionLink(homeString, "Index", "Home", null, null)
                </li>
                <li>
                    @Html.ActionLink(teachingString, "Index", "Teaching", null, null)
                </li>
            }

            @foreach (var item in Model.Siblings)
            {
                if (item.Children.Any())
                {
                <li class="has-dropdown">
                    @Html.ActionLink(item.Title, "Index", "Page", new { name = item.UrlName }, null)
                    <ul class="dropdown">
                        @foreach (var subitem in item.Children)
                        {
                            <li>@Html.ActionLink(subitem.Title, "Index", "Page", new { name = subitem.UrlName }, null)</li>
                        }
                    </ul>
                </li>
                }
                else
                {
                <li>@Html.ActionLink(item.Title, "Index", "Page", new { name = item.UrlName }, null)</li>
                }
            }
        </ul>
    </section>
</nav>
<div class="row">
    <div class="medium-12 columns">
        <h3>
            @Model.Title
        </h3>
    </div>
</div>
<div class="row">
    <div class="medium-12 columns">
        <div>
            @Html.Raw(Model.Content)
        </div>
    </div>
</div>
